<template>
    <div class="container">
        <div class="renderCanvas-container">
            <canvas id="renderCanvas" touch-action="none" width="1920" height="1080" tabindex="1"
                    style="opacity: 1;"></canvas>
            <video v-show="cameraF&&srcObjectF" :class="{videoH:WH,videoW:!WH}" autoplay="autoplay" id="video"
                   muted="muted" playsinline="playsinline"></video>
        </div>
        <div id="notSupported" class="hidden">loading...</div>
        <div class="wxtip" id="JweixinTip" :style="'background-image: url(./static/UI/weixin-tip.png);'"></div>
        <div v-show="loadModelF" id="changeSence" :style="'height:'+HeightC+'px;'">
            <div id="camera" v-show="cameraF"><img src="static/UI/tran.png"></div>
            <div id="white"><img src="static/UI/white.png"></div>
            <div id="black"><img src="static/UI/black.png"></div>
        </div>
        <div v-show="loadModelF" id="switchBtn" :style="'height:'+HeightS+'px;'">
            <div style="background: #6a6a6a;">冷锋锢囚锋</div>
            <div>暖锋锢囚锋</div>
        </div>
    </div>
</template>

<script>
    export default {
        data() {
            return {
                canvas: null,
                checked: false,
                sceneChecked: false,
                title: '锢囚锋',
                cameraF: false,
                HeightC: 136,
                HeightS: 98,
                hasQG: false,
                loadModelF: true,
                front: 1,
                WH: true,
                srcObjectF: false,
                strData1: window.strData1,
                strData2: window.strData2,

            };
        },
        methods: {
            init() {
                var thiz = this;
                var h = location.hash;
                // 获取摄像头参数
                var loadByHash = () => {

                    if (h && h.indexOf('camera=true') > -1) {
                        this.cameraF = true;
                        this.HeightC = 210;
                    } else {
                        this.cameraF = false;
                        this.HeightC = 136;
                    }
                }
                loadByHash();
                document.title = this.title;
                this.WH = window.innerWidth < window.innerHeight;
                //开启摄像头初始化
                var ua = navigator.userAgent;
                var isMob = /iPhone|iPad|Android/i.test(ua);
                if (/iPhone|iPad/i.test(ua) && /MicroMessenger|QQ/i.test(ua) && this.cameraF) {
                    document.getElementById('JweixinTip').style.display = 'block';
                }

                var exfect = [];
                if (navigator && navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {
                    navigator.mediaDevices.enumerateDevices()
                        .then(function gotDevices(deviceInfos) {
                            for (var i = 0; i !== deviceInfos.length; ++i) {
                                var deviceInfo = deviceInfos[i];
                                if (deviceInfo.kind === 'videoinput') {
                                    exfect.push(deviceInfo.deviceId);
                                }
                            }
                        }).catch(function errorCallback(error) {
                        console.log('navigator.getUserMedia error: ', error);
                    });
                }

                function openCamera(id) {
                    var constraints = {audio: false, video: {deviceId: id}}
                    if (navigator && navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {
                        navigator.mediaDevices.getUserMedia(constraints).then(function success(stream) {
                            video.srcObject = stream;
                        });
                    } else {
                        navigator.getUserMedia = navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia;
                        navigator.getUserMedia(constraints, function (stream) {
                            video.srcObject = stream;
                        }, function (err) {
                        });
                    }
                }

                // Launch render loop
                this.canvas = document.getElementById("renderCanvas");
                var engine = new BABYLON.Engine(this.canvas, true, {preserveDrawingBuffer: true, stencil: true});
                var thiz = this;
                window.addEventListener("resize", () => {
                    engine.resize();
                    this.WH = window.innerWidth < window.innerHeight;
                });

                if (!BABYLON.Engine.isSupported()) {
                    //TODO显示webgl不支持信息
                } else {
                    var scene = this.loadCustomScene(this.createScene, engine);
                    if (h && h.indexOf('camera=true') > -1) {
                        scene.clearColor = new BABYLON.Color4(0, 0, 0, 0);
                    } else {
                        scene.clearColor = new BABYLON.Color4(0.95, 0.95, 0.95, 1);
                    }
                  var renderTimes=0;
                    var renderFunction = () => {

                        if (scene) {
                            if (scene.activeCamera) {
                              renderTimes++;
                              if(renderTimes%4!=0)return;
                                scene.render();
                                if (this.cameraF && exfect[this.front] && !this.srcObjectF && isMob || this.cameraF && exfect[0] && !this.srcObjectF) {
                                    console.log("openCamera");
                                    if (isMob) {
                                        openCamera(exfect[this.front], this.front);
                                    } else {
                                        openCamera(exfect[0], 0);
                                    }
                                    this.srcObjectF = true;
                                }
                            }
                            if (scene.useDelayedTextureLoading) {
                                var waiting = scene.getWaitingItemsCount();
                                if (waiting <= 0) {
                                    document.getElementById("notSupported").className = "hidden";
                                }
                            } else if (!thiz.sceneChecked) {
                                var remaining = scene.getWaitingItemsCount();
                                if (remaining === 0) {
                                    thiz.sceneChecked = true;
                                    document.getElementById("notSupported").className = "hidden";
                                }
                            }
                        }
                    };
                    engine.runRenderLoop(renderFunction);
                }
                engine.resize();
            },

            // Render loop
            loadCustomScene(demoConstructor, engine) {
                document.getElementById("notSupported").className = "";
                var scene = demoConstructor(engine);
                if (scene.activeCamera) {
                    scene.activeCamera.attachControl(this.canvas, false);
                }
                scene.executeWhenReady(() => {
                    this.canvas.style.opacity = 1;
                });
                return scene;
            },
            createScene(engine) {
                var jsonstr = [-13.5785, 14.6298, 9.9925, -15.0126, 14.0178, 10.9232, -19.1153, 13.4649, 11.6489, -1.8873, 15.869, 3.9894, -3.4283, 16.3454, 5.8008, -6.1517, 15.8647, 6.7013, -0.5942, 16.0682, 3.9221, -2.2622, 15.7168, 5.6794, -8.4089, 15.8138, 8.4113, -12.873, 13.9688, 10.5018, -11.0592, 13.4111, 10.1769, -6.9973, 12.5416, 9.2029, -15.9408, 11.3359, 11.9807, -1.8009, 14.5106, 6.1046, 1.1368, 12.8769, 6.167, -1.8715, 12.925, 7.0907, -2.9946, -15.768, 8.0262
                    , -2.5653, -17.3247, 6.6191, -6.2748, -15.6655, 9.3377, 1.5059, -17.063, 5.0255, 2.0513, -18.0847, 3.1205, -0.2794, -17.6678, 4.7722, -0.0545, -17.1616, 3.0562, -2.5185, -17.3731, 4.9913, -4.4329, -17.9499, 6.7634, -8.2345, -16.9189, 9.442, -21.4254, 11.8688, 11.6763, -19.1153, 13.4649, 11.6489, -29.3955, 11.4749, 14.1071, -3.5895, 14.8014, 4.2234, -6.1517, 15.8647, 6.7013, -11.8932, 13.447, 8.5832, 25.481, 15.3767, 10.0217, 28.0602, 11.9631, 10.7043
                    , 28.3389, 11.6251, 11.1542, 26.912, 11.7452, 10.9938, 25.1703, 14.861, 10.1967, -20.6732, 11.7612, 12.4935, 18.4828, 15.8754, 6.0045, 15.3681, 15.4715, 5.14, 15.5433, 14.8972, 4.7376, 20.7943, 17.0061, 7.4775, 18.171, 16.4495, 6.3047, 20.5863, 16.485, 7.8327, 17.9803, 16.063, 6.6918, 15.2882, 15.1756, 5.6313, 18.1139, 13.0876, 7.8518, 20.368, 15.333, 8.0149, 20.9437, 13.366, 8.7052, 15.2849, 14.1147, 6.3025, 17.8856, 14.9595, 7.1163
                    , 16.3427, -17.4601, 6.2705, 19.6719, -17.647, 6.7031, 16.5061, -17.6261, 5.34, 16.1577, -15.8095, 7.1836, 19.3638, -17.2717, 7.5605, 19.1101, -15.4479, 8.2163, 22.9897, -15.1029, 9.4309, 23.5384, -15.6401, 8.7096, 15.5433, 14.8972, 4.7376, 18.9087, 14.0456, 5.8757, 18.4828, 15.8754, 6.0045, 21.2354, 16.4895, 7.2319, 18.4828, 15.8754, 6.0045, 12.4573, 14.0163, 3.0342, 9.6544, 14.1452, 2.3113, 9.3927, 13.4677, 1.6342, 12.4763, 14.7635, 3.5402
                    , 12.5435, 14.515, 4.2096, 9.8647, 13.9022, 3.2106, 10.0504, 11.3508, 6.6658, 12.6309, 13.4848, 5.1509, 12.6904, 11.6885, 6.8259, 15.3877, 12.3686, 7.299, 10.6118, -16.8794, 2.9545, 13.3895, -16.654, 3.4783, 10.3625, -16.2198, 1.8022, 10.7192, -15.6998, 4.5022, 13.3898, -16.9192, 4.558, 13.2931, -15.6275, 5.7749, 9.3927, 13.4677, 1.6342, 12.4904, 12.2831, 2.6567, 12.4573, 14.0163, 3.0342, 12.4573, 14.0163, 3.0342, 15.8788, 13.6318, 4.3343
                    , 15.5433, 14.8972, 4.7376, 6.4417, 13.8916, 1.0713, 4.4056, 15.1043, 1.7485, 3.6828, 14.5689, 1.314, 6.9284, 14.5453, 1.6843, 7.3052, 14.1809, 2.5976, 4.9357, 14.7806, 2.4577, 5.4236, 12.0958, 5.9767, 7.5307, 13.1449, 3.9832, 7.603, 11.6334, 6.1398, 10.0065, 12.8936, 4.5666, 6.0384, -17.9195, 1.7899, 7.5199, -16.5485, 1.0613, 5.032, -17.2362, 0.7993, 6.6699, -17.3118, 3.2606, 8.0886, -17.5046, 2.1056, 8.4053, -16.7772, 3.5143
                    , 3.6828, 14.5689, 1.314, 5.8221, 12.3016, 0.6471, 6.4417, 13.8916, 1.0713, 6.4417, 13.8916, 1.0713, 9.0129, 12.1072, 0.9996, 9.3927, 13.4677, 1.6342, 13.1862, -13.2717, 7.5586, 10.7261, -10.5042, 9.9586, 13.295, -10.7671, 9.7264, 16.1405, -11.0808, 9.4101, 16.0477, -13.5483, 8.187, 8.5659, -13.7444, 6.2483, 6.6177, -10.7781, 10.2469, 8.4853, -10.6121, 10.0203, 10.7185, -13.2724, 6.8857, -3.3538, -12.1691, 9.5712, -4.058, -14.1903, 9.0923
                    , -9.6738, -11.8447, 11.5891, 2.2112, -11.698, 9.3827, 0.7989, -14.5305, 7.0366, -0.2773, -12.0299, 8.9925, -8.2345, -16.9189, 9.442, -14.9491, -12.845, 12.4554, -6.2748, -15.6655, 9.3377, -6.2748, -15.6655, 9.3377, -9.6738, -11.8447, 11.5891, -13.88, -13.925, 10.3134, -18.1765, -12.7869, 12.4506, -2.9025, -14.4633, 3.7915, -5.9742, -15.581, 5.9564, 9.8087, -13.4214, 1.1145, 6.4473, -13.5025, 0.5615, 16.5026, -15.6358, 4.538, 13.257, -14.2951, 2.71
                    , 19.4679, -14.7977, 5.6695, 23.5718, -12.0986, 8.5103, 28.9092, -8.4691, 11.6462, 29.2348, -10.5911, 11.2579, 28.2129, -10.2615, 11.4497, 29.6106, -8.7822, 11.0947, 30.3501, -8.5932, 11.6034, 19.0808, -13.301, 8.9411, 19.2366, -10.9802, 9.6531, 21.9818, -12.5074, 9.759, 13.4447, -8.2251, 11.4365, 16.2768, -8.5725, 10.4731, 6.3272, -7.9481, 12.5703, 8.4544, -7.7084, 12.7858, 10.8182, -7.846, 12.3099, -4.5049, -9.4106, 10.8569, -8.6709, -9.2975, 11.96
                    , 1.4911, -8.7963, 11.1461, -1.1187, -9.2532, 10.6094, -18.1765, -12.7869, 12.4506, -28.8839, -6.3166, 16.047, -9.6738, -11.8447, 11.5891, -22.4125, -7.5356, 12.1654, -31.1414, -6.9048, 15.2595, -7.3804, -9.0282, 5.4611, -13.5572, -8.2547, 8.8692, 8.9461, -8.0375, 1.656, 5.0638, -8.4423, 0.8217, 3.3157, -14.3767, 0.5417, 16.4256, -9.9224, 4.7631, 12.735, -8.8002, 3.1203, 20.1575, -9.0392, 6.6014, 24.6063, -7.4972, 8.9573, 29.474, -5.7392, 12.111
                    , 30.9026, -6.0157, 11.4804, 31.6051, -5.9392, 12.0634, 22.405, -10.2925, 10.371, 19.2651, -8.6125, 10.292, 22.2159, -8.2147, 10.8094, 10.9286, -5.413, 13.8434, 13.7473, -3.339, 13.2605, 13.5953, -5.7256, 12.5305, 16.598, -3.6346, 11.8306, 16.4327, -6.0757, 11.2792, 8.4964, -5.265, 14.4724, 6.1415, -2.9962, 15.2393, 8.609, -3.0445, 15.3357, 11.1123, -3.1509, 14.6532, -8.5878, -3.5786, 12.6534, -13.3942, -6.3283, 13.4973, -14.9952, -3.4915, 13.83
                    , 0.5405, -3.2702, 13.2485, -2.0289, -6.3772, 11.624, -2.9455, -3.5238, 12.1605, -31.1414, -6.9048, 15.2595, -33.2782, -1.4712, 16.4805, -24.7917, -1.0443, 15.3168, -30.7153, -2.0751, 13.9416, -36.671, -1.7728, 16.4186, -11.1756, -2.2209, 7.4959, -20.0152, -2.1439, 10.5222, 8.4727, -2.1659, 2.2054, 4.4257, -2.2153, 1.404, 0.9463, -8.9198, 1.596, 15.9897, -2.6813, 5.2301, 12.6365, -2.4289, 3.9855, 20.0323, -2.7231, 6.8921, 24.846, -2.1652, 9.0534
                    , 31.0872, -1.9469, 12.5119, 31.7617, -2.0993, 11.6846, 32.306, -2.0924, 12.2614, 22.6081, -5.9929, 11.3126, 19.6299, -3.8293, 11.3436, 23.1383, -3.7307, 11.747, 19.4221, -6.2167, 10.8839, 11.186, -0.9594, 15.0386, 13.8313, 1.0974, 13.5717, 13.8551, -1.0715, 13.6013, 16.7228, 1.021, 12.1039, 16.7448, -1.2726, 12.1243, 6.1397, -0.7589, 15.804, 8.595, 1.336, 15.7327, 8.6401, -0.8422, 15.7558, 11.1551, 1.2039, 15.0047, -20.049, 2.2307, 14.6618
                    , -11.9902, -0.7129, 13.3849, -24.7917, -1.0443, 15.3168, 0.388, 1.8527, 13.8579, -4.1893, -0.6464, 12.5189, -4.4397, 2.1587, 12.5696, -36.671, -1.7728, 16.4186, -33.5497, 2.9102, 16.3329, -27.4424, 5.4113, 15.562, -20.049, 2.2307, 14.6618, -30.7312, 3.042, 13.7738, -36.6079, 3.1136, 16.0815, -11.8563, 4.1793, 7.6187, -20.6477, 3.5257, 10.5753, 8.5092, 3.3001, 2.1167, 0.6267, 4.1131, 2.0321, 4.6112, 3.6718, 1.2435, 15.8413, 3.2888, 5.4501
                    , 12.3548, 3.1423, 4.0017, 19.9157, 3.5445, 6.8246, 24.8144, 3.239, 8.915, 31.4501, 2.7104, 12.0454, 29.8555, 2.7996, 12.2259, 20.0211, -1.4446, 11.628, 23.7146, 0.8307, 11.98, 24.1512, -1.4794, 12.0959, 20.0225, 0.9752, 11.5873, 13.6988, 3.2271, 13.2698, 10.743, 5.4003, 13.8261, 13.4706, 5.3704, 12.5537, 16.5774, 3.3165, 11.8588, 6.0493, 3.6624, 15.6153, 8.1841, 5.5565, 14.3564, 8.4421, 3.4822, 15.3149, 11.021, 3.3306, 14.644
                    , -17.6231, 7.2745, 13.6151, -13.338, 4.9612, 13.4151, -27.4424, 5.4113, 15.562, -4.02, 7.0713, 11.3474, 0.528, 4.3017, 13.4642, -4.7491, 4.7578, 12.1506, -35.1853, 7.9603, 15.5335, -29.1356, 7.9551, 14.9054, -17.6231, 7.2745, 13.6151, -35.1853, 7.9603, 15.5335, -28.5051, 7.954, 13.1987, -16.8943, 9.5772, 9.6734, 8.8735, 8.0203, 1.6524, 1.6557, 9.403, 1.4334, 5.2138, 8.6628, 0.8227, 12.4524, 8.1163, 3.4015, 15.7581, 8.89, 4.9003
                    , 23.81, 9.203, 8.3523, 19.3854, 9.6131, 6.3017, 30.181, 7.2913, 11.7026, 28.8103, 7.2532, 11.7331, 31.0278, 2.7592, 11.456, 19.9442, 3.4393, 11.3115, 22.9826, 5.8406, 11.3199, 23.6879, 3.2709, 11.7721, 19.5832, 5.9476, 10.8266, 12.8298, 9.6173, 9.525, 15.5811, 10.1977, 8.9696, 5.5123, 9.9887, 9.5871, 7.7492, 9.58, 9.7628, 10.1684, 9.3379, 10.0329, -13.0456, 10.5227, 11.7786, 0.9569, 10.9274, 8.5662, -2.3994, 11.1106, 8.5695
                    , -29.3955, 11.4749, 14.1071, -15.9408, 11.3359, 11.9807, -7.2788, 10.7731, 5.5156, 22.2585, 14.1265, 7.5283, 29.8135, 7.4566, 11.1892, 18.4275, 10.8135, 8.9106, 21.4864, 11.0294, 9.6608, 23.5284, 15.4425, 9.3845, 24.0676, 12.8412, 9.9613, 22.6018, 14.8334, 9.0994, 26.912, 11.7452, 10.9938, 24.7326, 10.5599, 10.6056, 27.1164, 7.6266, 11.6096, 27.9849, 3.1022, 12.2124, 26.1194, 5.5523, 11.7775, 29.8555, 2.7996, 12.2259, 26.8514, 0.7002, 12.2867
                    , 29.4967, -1.7936, 12.6956, 29.474, -5.7392, 12.111, 26.0874, -3.6594, 12.103, 25.6962, -5.6792, 11.7302, 26.3117, -8.9921, 11.2029, 29.474, -5.7392, 12.111, 24.7337, -7.6414, 11.2619, 24.7793, -11.3423, 10.6472, 26.2051, -12.3715, 10.9912, 28.2129, -10.2615, 11.4497, 26.9867, -12.5924, 10.731, 27.212, -12.1526, 10.2892, 28.2129, -10.2615, 11.4497, 29.2348, -10.5911, 11.2579, 29.2348, -10.5911, 11.2579, 29.2685, -10.5962, 10.9466, 27.271, -9.7696, 10.1973
                    , 29.6106, -8.7822, 11.0947, 28.5933, -6.4888, 10.6151, 30.9026, -6.0157, 11.4804, 29.6712, -2.0761, 10.7995, 31.0278, 2.7592, 11.456, 31.7617, -2.0993, 11.6846, 29.2203, 2.9321, 10.5551, 29.8135, 7.4566, 11.1892, 31.0278, 2.7592, 11.456, 28.149, 8.048, 10.3325, 28.0602, 11.9631, 10.7043, 29.8135, 7.4566, 11.1892, 25.7908, 13.2906, 9.4912, 23.8193, 16.0211, 8.6617, 25.5886, 15.2239, 9.7202, 23.2804, 16.4799, 8.8178, 21.2354, 16.4895, 7.2319
                    , 23.8193, 16.0211, 8.6617, -15.9408, 11.3359, 11.9807, -16.6945, 8.8574, 12.9814, -15.9408, 11.3359, 11.9807, -14.9952, -3.4915, 13.83, -13.3942, -6.3283, 13.4973, -9.6738, -11.8447, 11.5891, -13.3942, -6.3283, 13.4973, -8.6709, -9.2975, 11.96, -6.2748, -15.6655, 9.3377, -4.058, -14.1903, 9.0923, -2.9946, -15.768, 8.0262, 26.912, 11.7452, 10.9938, 26.912, 11.7452, 10.9938, 28.8103, 7.2532, 11.7331, 28.8103, 7.2532, 11.7331, 29.8555, 2.7996, 12.2259
                    , 29.8555, 2.7996, 12.2259, 31.0872, -1.9469, 12.5119, 31.0872, -1.9469, 12.5119, 29.474, -5.7392, 12.111, 29.474, -5.7392, 12.111, 28.9092, -8.4691, 11.6462, 28.2129, -10.2615, 11.4497, 28.9092, -8.4691, 11.6462, -16.6945, 8.8574, 12.9814, -10.9043, 7.1336, 12.4354, -3.1718, 9.1755, 10.0658, 0.7213, 6.6375, 12.5034, 5.899, 5.8044, 14.5269, 7.9664, 7.5667, 12.5902, 10.4772, 7.3824, 12.3166, 13.1793, 7.5154, 11.3982, 16.3433, 5.6539, 11.268
                    , 16.0421, 7.9827, 10.3424, 19.196, 8.4423, 10.0646, 22.6729, 8.3848, 10.753, 5.6878, 7.9122, 12.6916, 0.9226, 8.8438, 10.9454, -9.3739, 9.0663, 11.3848, -16.6945, 8.8574, 12.9814, -6.0357, 15.5481, 7.7206, 0.2569, 15.501, 4.1816, 5.2553, 13.7063, 3.7486, -27.4424, 5.4113, 15.562, 6.1546, 1.4744, 16.0114, -24.7917, -1.0443, 15.3168, 0.3669, -0.6509, 13.7826, -6.3808, -6.5119, 12.0135, 0.9198, -5.9755, 12.442, 6.18, -5.3437, 14.2131
                    , 22.1436, -14.3147, 9.3707, 6.7406, -14.1404, 6.23, 3.1445, -14.3827, 6.9214, -1.6576, -14.5161, 7.8788, -7.6039, 10.8585, 10.1298, -5.4606, 14.2937, 7.9093, -13.5785, 14.6298, 9.9925, -0.7635, -16.5795, 6.4114, -12.2387, 2.1753, 13.4243, -3.8571, 4.2653, 4.3016, -4.3621, -2.3076, 4.5094, -3.0277, -9.4802, 3.2927, 0.1071, -14.2328, 1.8319, 2.5068, -17.2758, 1.6139, 3.4423, -17.328, 3.9567, 4.2912, -18.5972, 1.9425, 5.064, -14.2095, 6.6968
                    , 4.5166, -11.2558, 9.8657, 4.0058, -8.361, 12.0322, 3.6396, -5.6055, 13.5776, 3.4467, -3.056, 14.5908, 3.4214, -0.7158, 15.2367, 3.5244, 1.5956, 15.4795, 3.5607, 3.8856, 15.0094, 3.5648, 6.132, 13.873, 3.5386, 8.3198, 12.0441, 3.4737, 10.4245, 9.1533, 3.4396, 12.5171, 5.8561, 3.0619, 14.0327, 4.1478, 0.7652, 14.4038, 4.8952, 2.6036, 15.0924, 3.1231, 1.9353, 15.585, 2.5415, 0.9977, 15.3731, 2.2356, -0.1758, 14.489, 1.972
                    , -1.8873, 15.869, 3.9894, -1.988, 10.4939, 2.7505, 0.1521, -2.218, 2.2076, 5.053, -17.4248, 3.409, 2.8004, 13.1667, 0.9797, 0.9977, 15.3731, 2.2356, -13.5785, 14.6298, 9.9925, -19.1153, 13.4649, 11.6489, -1.8873, 15.869, 3.9894, -6.1517, 15.8647, 6.7013, 25.5886, 15.2239, 9.7202, -29.3955, 11.4749, 14.1071, 21.2354, 16.4895, 7.2319, 15.5433, 14.8972, 4.7376, 9.3927, 13.4677, 1.6342, 12.4573, 14.0163, 3.0342, 3.6828, 14.5689, 1.314
                    , 6.4417, 13.8916, 1.0713, -8.2345, -16.9189, 9.442, -18.1765, -12.7869, 12.4506, 29.2685, -10.5962, 10.9466, -18.1765, -12.7869, 12.4506, -31.1414, -6.9048, 15.2595, -31.1414, -6.9048, 15.2595, -36.671, -1.7728, 16.4186, -36.671, -1.7728, 16.4186, -36.6079, 3.1136, 16.0815, -36.6079, 3.1136, 16.0815, -17.6231, 7.2745, 13.6151, -35.1853, 7.9603, 15.5335, -29.3955, 11.4749, 14.1071, -35.1853, 7.9603, 15.5335, 26.912, 11.7452, 10.9938, 26.912, 11.7452, 10.9938
                    , 29.8555, 2.7996, 12.2259, 29.8555, 2.7996, 12.2259, 29.474, -5.7392, 12.111, 28.2129, -10.2615, 11.4497, 29.2348, -10.5911, 11.2579, 29.6106, -8.7822, 11.0947, 29.6106, -8.7822, 11.0947, 30.9026, -6.0157, 11.4804, 30.9026, -6.0157, 11.4804, 31.7617, -2.0993, 11.6846, 31.0278, 2.7592, 11.456, 29.8135, 7.4566, 11.1892, 28.0602, 11.9631, 10.7043, 28.0602, 11.9631, 10.7043, 21.2354, 16.4895, 7.2319, 23.8193, 16.0211, 8.6617, 23.8193, 16.0211, 8.6617
                    , 25.5886, 15.2239, 9.7202, -15.9408, 11.3359, 11.9807, -13.0456, 10.5227, 11.7786, -11.0592, 13.4111, 10.1769, -15.9408, 11.3359, 11.9807, -14.9952, -3.4915, 13.83, -9.6738, -11.8447, 11.5891, -13.3942, -6.3283, 13.4973, -6.2748, -15.6655, 9.3377, -9.6738, -11.8447, 11.5891, -4.058, -14.1903, 9.0923, -16.6945, 8.8574, 12.9814, -6.1517, 15.8647, 6.7013, -13.5785, 14.6298, 9.9925, 0.9977, 15.3731, 2.2356, -1.8873, 15.869, 3.9894, 3.6828, 14.5689, 1.314
                    , 0.9977, 15.3731, 2.2356]

                var jsonstr2 = [-2.0581, 6.9942, 1.7444, -4.3038, 6.696, 2.3206, -5.2731, 7.3417, 2.4255, -6.2033, 6.9561, 4.8428, -7.5113, 7.6081, 5.201, -6.3065, 7.0337, 2.6066, -9.0069, 7.5313, 5.6108, -4.7248, 6.6018, 1.8495, -18.2373, 12.1714, 18.4346, -13.7942, 9.282, 19.5272, -18.8568, 7.7645, 18.9491, -13.5165, 2.2179, 19.4501, -18.7406, 0.917, 19.0057, -25.2732, 6.595, 18.7307, -23.8584, 11.1665, 18.166, -5.5507, -5.8997, 2.4477, -6.8804, -4.4021, 4.9559
                    , -4.8994, -5.3006, 2.322, -3.3364, -5.6444, 1.4959, -4.9535, -5.4297, 1.6715, -6.2383, -5.7054, 2.4712, -7.6736, -4.859, 5.2612, -3.0458, -5.1581, 1.7362, -0.9164, -4.4706, 1.587, 0.0624, -4.2648, 2.0577, 0.5436, -2.499, 1.9556, -4.3516, -2.5804, 1.3843, -4.4006, -4.5998, 1.3783, -3.0458, -5.1581, 1.7362, -2.6151, -4.0515, 2.3143, 0.0624, -4.2648, 2.0577, -4.8994, -5.3006, 2.322, -5.8697, -3.5219, 4.6554, -4.5248, -2.0262, 4.2639
                    , -0.0786, -2.1782, 2.9066, 0.0624, -4.2648, 2.0577, -4.3516, -2.5804, 1.3843, -6.8645, -4.5749, 2.4858, -4.4006, -4.5998, 1.3783, -7.2425, -2.6082, 2.7104, -10.352, -3.5794, 5.7056, -9.0543, -4.5448, 5.5423, -4.9535, -5.4297, 1.6715, -6.2383, -5.7054, 2.4712, -13.0539, 12.5862, 16.7648, -17.4447, 15.1768, 17.1444, -17.1977, 12.8873, 16.2017, -13.6967, 13.5954, 19.0711, -13.2498, 16.3605, 17.8607, -22.4069, 14.2213, 17.0864, -21.8784, 12.6481, 16.0048
                    , -21.9787, -13.4695, 15.9652, -17.64, -16.0624, 17.3797, -17.1763, -15.6423, 16.0751, -22.3771, -14.9215, 17.2151, -18.1383, -13.7269, 18.5039, -13.4826, -14.1426, 19.1982, -13.109, -16.2059, 18.1589, -12.5426, 7.8295, 15.634, -9.3417, -0.0187, 17.5243, -12.1997, 10.3623, 16.251, -12.5844, -5.8167, 15.6175, -11.1768, 1.8598, 15.7233, -12.1929, -10.2892, 16.0973, -8.0706, -13.1559, 18.6774, -3.3924, -2.3522, 20.1538, -4.6941, 9.7509, 20.0655, -8.9871, 11.8039, 18.4455
                    , -8.4998, -15.8401, 19.4773, -8.1332, -11.855, 20.1452, -4.6477, -13.6734, 20.6874, -12.8779, -14.2804, 16.7468, -10.2477, 13.7865, 19.802, -9.128, 8.9831, 20.0826, -4.747, 12.0287, 20.4442, -3.5814, 9.0196, 21.1685, -7.849, 2.2142, 19.9557, -9.4447, 15.7573, 19.1149, -6.2264, 14.138, 20.1657, -24.0045, -4.8958, 15.08, -26.3442, -0.0235, 16.2584, -24.2654, -8.9429, 15.3822, -23.5023, 5.6331, 15.0397, -24.1711, 0.7521, 15.2005, -23.9387, 8.7728, 15.5372
                    , -27.2281, 10.6753, 17.0084, -31.4334, 9.7474, 17.9513, -31.3237, -11.5486, 17.9604, -26.7314, -12.7113, 16.8174, -27.3168, 13.7399, 17.6604, -34.5129, 12.0943, 19.1693, -29.4148, 10.5987, 18.4072, -25.3983, 0.3457, 18.8957, -31.6296, 5.8719, 18.5801, -36.8237, 5.1759, 19.742, -31.9924, 0.546, 18.785, -37.002, 0.6565, 19.9481, -34.1078, 9.507, 19.035, -26.585, -16.0924, 17.5431, -33.5382, -11.2868, 19.0033, -28.8784, -12.3694, 18.4738, -33.5616, -13.6651, 18.8459
                    , -23.4739, -12.9183, 18.2403, -8.6472, 7.4095, 6.7666, -9.5191, 7.9043, 6.9726, -10.7623, -1.7178, 5.7238, -11.4235, -2.5569, 7.013, -10.5904, -3.6072, 6.9662, -8.5246, -3.8111, 6.4684, -9.4695, -4.0141, 6.8044, -9.0543, -4.5448, 5.5423, -6.8804, -4.4021, 4.9559, -7.1904, -3.025, 5.948, -6.1141, -1.6613, 5.6955, -9.1206, 7.775, 8.1352, -10.2887, 7.9331, 8.2035, -10.0158, 8.3666, 9.3371, -11.3585, 8.4785, 9.444, -11.5102, 7.3531, 8.2911
                    , -10.4651, 7.5114, 7.0384, -11.9316, -0.6728, 7.0227, -12.471, -2.0866, 8.2957, -14.7518, -0.7862, 9.3509, -13.4727, -0.222, 8.2542, -14.0068, -3.4323, 9.4368, -11.4735, -3.3083, 8.2443, -10.1922, -4.6484, 9.2501, -10.2455, -3.8595, 8.1496, -11.691, -5.0855, 9.3667, -9.0445, -3.7646, 7.9325, -10.5904, -3.6072, 6.9662, -11.4735, -3.3083, 8.2443, -8.5246, -3.8111, 6.4684, -8.0996, -2.9996, 7.5282, -9.0445, -3.7646, 7.9325, -9.0009, -3.6586, 9.157
                    , -8.5718, -1.8748, 8.9957, -7.6538, -1.4924, 7.4355, -11.0293, 9.3561, 10.5745, -12.4489, 9.6382, 10.6333, -12.0166, 9.9782, 11.6761, -13.5921, 10.2027, 11.6903, -14.1011, 8.9643, 10.632, -12.9848, 8.0589, 9.4735, -15.9587, -2.2207, 10.4101, -15.0715, -5.6703, 10.5359, -17.0547, -3.4536, 11.4503, -15.9817, -7.1767, 11.5494, -13.908, -7.9357, 10.548, -13.1037, -5.1617, 9.4225, -11.9587, -9.0412, 11.5285, -12.5564, -7.9685, 10.5178, -13.5618, -9.9332, 11.5403
                    , -11.2212, -6.8382, 10.4602, -13.1037, -5.1617, 9.4225, -13.908, -7.9357, 10.548, -10.1922, -4.6484, 9.2501, -9.9713, -5.1349, 10.3319, -11.2212, -6.8382, 10.4602, -10.8082, -6.9474, 11.4968, -10.0778, -3.6713, 11.4122, -9.1881, -2.7527, 10.2853, -15.4079, 10.7147, 13.8023, -13.9132, 11.3461, 15.1205, -16.3857, 11.5988, 14.9765, -19.1988, 11.3323, 14.8131, -17.1567, 10.1205, 13.7206, -19.3083, -10.5305, 13.3953, -22.4845, -5.7279, 14.4209, -21.5226, -11.6093, 14.3503
                    , -24.2654, -8.9429, 15.3822, -21.9787, -13.4695, 15.9652, -24.2654, -8.9429, 15.3822, -19.4619, -13.6489, 14.5885, -16.5712, -14.1471, 14.7984, -13.8963, -13.4497, 14.9178, -15.7452, -12.6018, 13.6438, -17.8233, -12.3771, 13.5354, -19.4619, -13.6489, 14.5885, -13.7028, -11.5151, 13.6714, -12.6997, -10.1114, 14.8249, -12.2681, -9.1889, 13.6279, -13.8963, -13.4497, 14.9178, -12.1929, -10.2892, 16.0973, -12.1929, -10.2892, 16.0973, -12.5296, -6.3177, 14.7305, -12.9828, 10.3923, 12.7323
                    , -14.5672, 10.3428, 12.716, -13.7222, 10.623, 13.8453, -15.9414, 9.4889, 12.6691, -15.0529, 9.5254, 11.6818, -18.2109, -4.7988, 12.446, -17.2442, -8.9487, 12.465, -20.0442, -5.7543, 13.4266, -16.4864, -11.515, 12.5381, -15.0354, -9.5206, 11.5029, -13.7028, -11.5151, 13.6714, -14.6679, -11.2782, 12.5686, -12.8696, -10.2559, 12.5799, -15.0354, -9.5206, 11.5029, -16.4864, -11.515, 12.5381, -11.9587, -9.0412, 11.5285, -11.5006, -8.3217, 12.5318, -12.8696, -10.2559, 12.5799
                    , -11.6518, -5.4909, 13.5041, -10.9229, -4.5596, 12.4129, -12.4087, 9.8311, 13.7776, -12.5201, 8.3411, 14.7688, -12.7587, 10.1795, 14.9652, -12.1997, 10.3623, 16.251, -12.1997, 10.3623, 16.251, -10.9754, 8.864, 11.6015, -10.7764, 6.787, 12.5581, -11.6713, 9.4294, 12.6932, -11.5548, 7.7404, 13.6227, -9.0983, 7.4308, 9.2701, -9.2695, 5.606, 10.3167, -9.9873, 8.1337, 10.4585, -9.9477, 6.0522, 11.4876, -7.0998, 5.8961, 6.3478, -7.324, 4.1686, 7.3077
                    , -8.2134, 6.3945, 7.9634, -8.5062, 4.8692, 9.0291, -6.0046, 3.6982, 5.5735, -5.7328, 5.4509, 4.8073, -4.9219, 3.2886, 4.226, 1.8789, 5.3002, 2.5482, 0.5707, 2.8749, 2.902, -1.3593, 5.1098, 2.5265, -1.5947, 6.4578, 1.9308, 1.2314, 2.9614, 2.0886, 1.8789, 5.3002, 2.5482, 0.6814, 5.3943, 2.1001, 1.8789, 5.3002, 2.5482, -2.0581, 6.9942, 1.7444, -2.0581, 6.9942, 1.7444, -4.1567, 5.4777, 1.5867, -4.1676, 3.0877, 1.4956
                    , -7.0712, 3.5255, 2.8581, -4.1567, 5.4777, 1.5867, -6.84, 5.775, 2.7606, -4.1567, 5.4777, 1.5867, -9.882, 6.6516, 5.7806, -10.7455, 4.7659, 5.7591, -11.3239, 6.3851, 7.0618, -12.4233, 4.5927, 7.0408, -13.0465, 6.0823, 8.3479, -14.0781, 4.2094, 8.287, -14.4668, 6.4953, 9.4923, -15.2446, 4.252, 9.3979, -15.5663, 6.9852, 10.542, -16.3685, 4.2623, 10.436, -16.4612, 7.2782, 11.5758, -18.3075, 4.201, 12.3847, -17.3078, 7.817, 12.6
                    , -19.5928, 4.6878, 13.3767, -18.6383, 8.883, 13.6217, -21.9325, 5.817, 14.3898, -21.1269, 10.2668, 14.6065, -23.9387, 8.7728, 15.5372, -11.3845, 2.2248, 14.3389, -10.6717, 1.8592, 13.2195, -12.5844, -5.8167, 15.6175, -12.5426, 7.8295, 15.634, -11.1768, 1.8598, 15.7233, -10.3137, 1.5146, 12.2253, -9.943, 1.3122, 11.2542, -9.2598, 1.3323, 10.1613, -8.3867, 1.3561, 8.8953, -7.1668, 1.1359, 7.2522, -5.6617, 0.814, 5.5104, -4.3898, 0.5439, 4.1805
                    , 1.9525, -2.3458, 2.4831, 0.732, 0.2881, 2.9638, 2.4102, 0.2179, 2.4971, 2.5501, 2.9315, 2.5531, 1.9525, -2.3458, 2.4831, 0.9939, 0.1543, 2.0032, 2.4102, 0.2179, 2.4971, -4.2739, 0.1918, 1.4407, -4.2739, 0.1918, 1.4407, -7.1677, 0.4172, 2.8317, -4.1676, 3.0877, 1.4956, -4.2739, 0.1918, 1.4407, -10.6102, 1.3705, 5.6778, -12.4106, 1.9262, 6.9591, -14.1697, 2.0267, 8.1507, -15.424, 1.8115, 9.2017, -16.5388, 1.1817, 10.2261
                    , -17.3555, 4.1468, 11.4187, -17.5098, 0.5061, 11.2309, -18.4365, -0.0166, 12.2089, -19.7431, -0.1903, 13.1976, -21.8008, 0.3034, 14.1848, -23.5023, 5.6331, 15.0397, -24.0045, -4.8958, 15.08, -24.1711, 0.7521, 15.2005, -1.1223, 10.4792, 21.32, -2.6046, 1.1561, 21.2375, 3.49, 5.3803, 22.7559, 6.6282, -0.3874, 23.962, -0.6066, -10.8989, 21.3471, -3.9674, -10.1201, 20.9237, 0.0664, -9.6202, 21.6497, -3.496, -11.2238, 20.4405, -1.791, 9.5609, 20.987
                    , 0.818, -2.1045, 21.2245, 3.8861, -7.2858, 22.8981, -38.1998, 9.452, 19.5476, -36.7573, 8.5726, 19.1449, -41.7686, 5.9915, 20.7278, -37.4019, 0.0455, 18.9483, -45.1221, 1.02, 21.4981, -37.6012, -10.3375, 19.406, -42.5456, -5.2758, 20.6595, -35.916, -10.3859, 19.1034, -2.6768, -5.4912, 21.5039, -7.5474, -6.1764, 20.4722, -13.6376, -7.6873, 19.885, -18.9922, -7.4, 19.3155, -25.5188, -6.6968, 19.0015, -31.7862, -6.1977, 18.6633, -36.6172, -5.7838, 19.6199
                    , 0.0008, 8.5276, 2.8956, -2.4547, 5.858, 1.1826, 3.8088, 8.4853, 3.4004, -5.9656, 5.8744, 2.1773, -3.0939, 5.837, 2.8632, -6.9532, 4.2992, 2.822, -4.371, 2.7362, 3.1976, -7.0679, 2.3154, 2.8468, 0.8777, -9.0848, 2.6496, -0.7184, -7.6828, 3.1323, 3.9749, -10.7294, 3.667, 3.9286, 4.0384, 3.3522, -2.6969, 2.9477, 1.1217, -6.9532, 4.2992, 2.822, -2.4547, 5.858, 1.1826, -2.6969, 2.9477, 1.1217, -6.9532, 4.2992, 2.822
                    , -7.0679, 2.3154, 2.8468, 3.41, 10.5613, 5.0392, 5.7552, 12.8366, 4.5905, 1.5591, 5.3955, 4.9462, 3.8554, -10.0472, 4.986, 6.7226, -13.4709, 5.5534, 7.3727, 5.3718, 5.5717, 7.7893, 11.1882, 5.2744, 8.4858, 11.3584, 6.787, 10.2009, 14.1407, 6.803, 6.7905, 6.1133, 7.1928, 8.7596, -10.5296, 7.1918, 9.8724, -13.3187, 7.2011, 11.1455, 5.9622, 7.2538, 11.2429, 12.394, 7.1894, 13.8709, 12.3546, 8.9111, 16.8227, 15.1218, 9.3837
                    , 11.0318, 5.42, 8.4049, 13.1799, -11.2237, 8.6195, 15.0835, -14.5405, 8.6483, 18.0632, 12.0732, 9.7335, 18.2022, 6.2104, 9.682, 20.149, 11.7179, 11.3553, 22.1106, 13.2852, 11.201, 17.8815, 4.4294, 10.902, 19.4767, -10.4353, 10.5458, 21.1279, -12.8311, 11.1345, 22.6758, 6.7262, 10.9577, 22.8535, 12.752, 11.0653, 26.5771, 9.0296, 13.0071, 25.6613, 3.594, 12.9059, 26.5381, 10.1636, 12.2455, 22.1106, 13.2852, 11.201, 30.402, 3.7797, 13.8991
                    , 30.6164, 7.9655, 13.7551, 26.5381, 10.1636, 12.2455, 27.0997, 5.8749, 12.3886, 16.9231, -0.6706, 10.4268, 10.342, 0.3887, 8.3549, 11.3696, -5.2912, 8.527, 17.8731, -5.906, 10.8523, 6.5932, -0.1858, 7.2309, 6.8392, -6.5823, 7.2372, 0.9938, -0.6186, 5.117, 1.6011, -6.5838, 5.1207, -4.4917, -0.3433, 3.2807, -3.9048, -3.4246, 3.1084, -6.6747, -0.1359, 2.5343, -6.0721, -2.4522, 2.0557, -2.6969, 2.9477, 1.1217, -6.6747, -0.1359, 2.5343
                    , -2.6269, -0.4122, 0.9825, -6.0721, -2.4522, 2.0557, -2.129, -3.7326, 0.871, 4.0023, -0.7426, 3.3455, -2.129, -3.7326, 0.871, 4.4122, -5.2126, 3.2882, 7.4584, -0.3332, 5.584, 7.5758, -5.9023, 5.5193, 11.2073, -0.3156, 7.2433, 11.5384, -5.8587, 7.2875, 18.7087, -0.3084, 9.7928, 18.8057, -5.6666, 9.8955, 23.4063, -0.0096, 11.1142, 22.8492, -6.6506, 11.0251, 30.527, 5.2744, 13.4971, 26.5968, -0.2535, 12.0047, 31.3074, -0.3473, 13.3194
                    , 30.3166, -6.1067, 13.2433, 26.2111, -6.5314, 12.0237, 25.7121, -1.2723, 12.9627, 25.6886, -5.9179, 13.0069, 35.7941, 4.0822, 15.0288, 31.0948, -0.9898, 13.9624, 35.6078, -5.013, 14.984, 38.067, -0.3467, 15.2575, -3.0688, -5.8069, 1.4064, -3.0688, -5.8069, 1.4064, -0.2112, -6.9208, 1.7837, 0.8777, -9.0848, 2.6496, -3.0688, -5.8069, 1.4064, 4.6076, -9.0434, 3.4025, -0.2112, -6.9208, 1.7837, -0.2112, -6.9208, 1.7837, 7.6895, -10.752, 5.5571
                    , 11.0222, -11.6503, 7.2298, 17.5298, -12.4568, 9.5042, 21.6977, -11.9683, 10.906, 24.8145, -11.2428, 12.166, 24.8145, -11.2428, 12.166, 25.8809, -10.7616, 13.2388, 30.6482, -5.6316, 13.9955, 30.3664, -9.5989, 13.8403, 24.8145, -11.2428, 12.166, 30.3664, -9.5989, 13.8403, 35.6078, -5.013, 14.984, 35.6078, -5.013, 14.984, 35.7941, 4.0822, 15.0288, 38.067, -0.3467, 15.2575, 30.6164, 7.9655, 13.7551, 35.7941, 4.0822, 15.0288, -37.5339, -5.7052, 19.8014
                    , -37.0459, 5.1461, 19.7918, -39.0064, 0.7007, 20.4135, -31.873, 0.011, 17.6033, -9.0543, -4.5448, 5.5423, 1.9525, -2.3458, 2.4831, -3.0458, -5.1581, 1.7362, -4.8994, -5.3006, 2.322, -4.8994, -5.3006, 2.322, -6.8804, -4.4021, 4.9559, 0.0624, -4.2648, 2.0577, -4.3516, -2.5804, 1.3843, -6.2383, -5.7054, 2.4712, -4.9535, -5.4297, 1.6715, -4.4006, -4.5998, 1.3783, -9.0543, -4.5448, 5.5423, -10.5904, -3.6072, 6.9662, -6.8804, -4.4021, 4.9559
                    , -8.5246, -3.8111, 6.4684, -10.5904, -3.6072, 6.9662, -11.4735, -3.3083, 8.2443, -11.4735, -3.3083, 8.2443, -13.1037, -5.1617, 9.4225, -8.5246, -3.8111, 6.4684, -9.0445, -3.7646, 7.9325, -9.0445, -3.7646, 7.9325, -10.1922, -4.6484, 9.2501, -13.1037, -5.1617, 9.4225, -13.908, -7.9357, 10.548, -13.908, -7.9357, 10.548, -15.0354, -9.5206, 11.5029, -10.1922, -4.6484, 9.2501, -11.2212, -6.8382, 10.4602, -11.2212, -6.8382, 10.4602, -11.9587, -9.0412, 11.5285
                    , -24.0045, -4.8958, 15.08, -24.2654, -8.9429, 15.3822, -21.9787, -13.4695, 15.9652, -17.8233, -12.3771, 13.5354, -13.7028, -11.5151, 13.6714, -19.4619, -13.6489, 14.5885, -19.4619, -13.6489, 14.5885, -13.8963, -13.4497, 14.9178, -13.8963, -13.4497, 14.9178, -12.8779, -14.2804, 16.7468, -12.1929, -10.2892, 16.0973, -12.1929, -10.2892, 16.0973, -12.5844, -5.8167, 15.6175, -17.8233, -12.3771, 13.5354, -13.7028, -11.5151, 13.6714, -15.0354, -9.5206, 11.5029, -16.4864, -11.515, 12.5381
                    , -16.4864, -11.515, 12.5381, -11.9587, -9.0412, 11.5285, -12.8696, -10.2559, 12.5799, -12.8696, -10.2559, 12.5799, -12.5426, 7.8295, 15.634, -12.1997, 10.3623, 16.251, -12.1997, 10.3623, 16.251, 2.5501, 2.9315, 2.5531, 1.8789, 5.3002, 2.5482, 1.8789, 5.3002, 2.5482, -1.5947, 6.4578, 1.9308, -2.0581, 6.9942, 1.7444, -2.0581, 6.9942, 1.7444, -4.7248, 6.6018, 1.8495, -4.1676, 3.0877, 1.4956, -4.1567, 5.4777, 1.5867, -23.9387, 8.7728, 15.5372
                    , -23.9387, 8.7728, 15.5372, -23.5023, 5.6331, 15.0397, -12.5844, -5.8167, 15.6175, -11.1768, 1.8598, 15.7233, -12.5426, 7.8295, 15.634, 1.9525, -2.3458, 2.4831, 2.4102, 0.2179, 2.4971, 2.4102, 0.2179, 2.4971, 2.5501, 2.9315, 2.5531, -4.3516, -2.5804, 1.3843, -4.2739, 0.1918, 1.4407, -4.1676, 3.0877, 1.4956, -23.5023, 5.6331, 15.0397, -24.1711, 0.7521, 15.2005, -24.0045, -4.8958, 15.08, -2.6969, 2.9477, 1.1217, -2.4547, 5.858, 1.1826
                    , -6.9532, 4.2992, 2.822, 26.5381, 10.1636, 12.2455, 26.5381, 10.1636, 12.2455, -2.6969, 2.9477, 1.1217, -7.0679, 2.3154, 2.8468, -6.6747, -0.1359, 2.5343, -6.6747, -0.1359, 2.5343, -6.0721, -2.4522, 2.0557, -2.6269, -0.4122, 0.9825, -2.129, -3.7326, 0.871, -2.6269, -0.4122, 0.9825, -6.0721, -2.4522, 2.0557, -3.0688, -5.8069, 1.4064, -2.129, -3.7326, 0.871, -0.2112, -6.9208, 1.7837, 24.8145, -11.2428, 12.166, 30.3664, -9.5989, 13.8403
                    , 35.6078, -5.013, 14.984, 38.067, -0.3467, 15.2575, 35.7941, 4.0822, 15.0288, 30.6164, 7.9655, 13.7551, 26.5381, 10.1636, 12.2455, 22.1106, 13.2852, 11.201]


                BABYLON.Effect.ShadersStore["customVertexShader"] =
                    "precision highp float;\r\n" +
                    "attribute vec3 position;\r\n" +
                    "attribute vec3 normal;\r\n" +
                    "attribute vec2 uv;\r\n" +
                    "uniform mat4 worldViewProjection;\r\n" +
                    "varying vec3 vPosition;\r\n" +
                    "varying vec3 vNormal;\r\n" +
                    "varying vec2 vUV;\r\n" +

                    "void main(void) {\r\n" +
                    "    vec4 outPosition = worldViewProjection * vec4(position, 1.0);\r\n" +
                    "    gl_Position = outPosition;\r\n" +
                    "    vUV = uv;\r\n" +
                    "    vPosition = position;\r\n" +
                    "    vNormal = normal;\r\n" +
                    "}\r\n";

                BABYLON.Effect.ShadersStore["customFragmentShader"] =
                    "precision highp float;\r\n" +
                    "varying vec3 vPosition;\r\n" +
                    "varying vec3 vNormal;\r\n" +
                    "varying vec2 vUV;\r\n" +
                    "uniform mat4 world;\r\n" +
                    "uniform vec3 cameraPosition;\r\n" +

                    "uniform sampler2D map;\r\n" +
                    "uniform vec3 fogColor;\r\n" +
                    "uniform float fogNear;\r\n" +
                    "uniform float fogFar;\r\n" +
                    "void main() {\r\n" +
                    "    float depth = gl_FragCoord.z / gl_FragCoord.w;\r\n" +
                    "    float fogFactor = smoothstep( fogNear, fogFar, depth );\r\n" +
                    "    gl_FragColor = texture2D( map, vUV );\r\n" +
                    "    gl_FragColor.w *= pow( gl_FragCoord.z, 20.0 );\r\n" +
                    "    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );\r\n" +
                    "}\r\n";

                var positions = [];
                for (var i = 0; i < jsonstr.length; i += 9) {
                    positions.push(new BABYLON.Vector3(jsonstr[i], jsonstr[i + 2], jsonstr[i + 1]));
                }
                var positions2 = [];
                for (var i = 0; i < jsonstr.length; i += 9) {
                    positions2.push(new BABYLON.Vector3(jsonstr2[i], jsonstr2[i + 2], jsonstr2[i + 1]));
                }
                var thiz = this;
                var canvas = engine.getRenderingCanvas();
                engine.enableOfflineSupport = false;
                engine.setHardwareScalingLevel(0.5);
                var scene = new BABYLON.Scene(engine);

                var light = new BABYLON.HemisphericLight("light1", new BABYLON.Vector3(0, 1, 0), scene);
                light.intensity = 1.2;
                var light1 = new BABYLON.HemisphericLight("Omni2", new BABYLON.Vector3(0, -1, 0), scene);
                light1.intensity = .5;
                var camera = new BABYLON.ArcRotateCamera("Camera", -Math.PI / 2, Math.PI / 2, 200, BABYLON.Vector3.Zero(), scene);
                camera.attachControl(canvas, false);
                camera.lowerRadiusLimit = 100;
                camera.upperRadiusLimit = 300;
                camera.minZ = 1.0;
                camera.layerMask = 0x20000000;

                var particleSystem1, particleSystem2;

                function RainFX(particleSystem, texturepath, minSize, maxSize, updateSpeed, num, maxEmitPower, mesh) {
                    particleSystem = new BABYLON.ParticleSystem("particles", num, scene);
                    particleSystem.particleTexture = new BABYLON.Texture(texturepath, scene);
                    var top = BABYLON.Mesh.CreatePlane("snowpanel", 50, scene);
                    // top.rotation = new BABYLON.Vector3(20 * Math.PI/180 + Math.PI / 2,Math.PI/2,Math.PI/2)
                    top.rotation.x = Math.PI / 2;
                    top.visibility = 0;
                    top.position = mesh.position;
                    particleSystem.emitter = top;
                    particleSystem.minEmitBox = new BABYLON.Vector3(-23, -20, 0);
                    particleSystem.maxEmitBox = new BABYLON.Vector3(23, 20, 0);
                    particleSystem.color1 = new BABYLON.Color4(1, 1, 1.0, 1.0);
                    particleSystem.color2 = new BABYLON.Color4(1, 1, 1.0, 1.0);
                    particleSystem.colorDead = new BABYLON.Color4(0, 0, 0.1, 0.0);
                    particleSystem.minSize = minSize;
                    particleSystem.maxSize = maxSize;
                    particleSystem.minLifeTime = 0.5;
                    particleSystem.maxLifeTime = 2.5;
                    particleSystem.direction1 = new BABYLON.Vector3(0, 1, 0);
                    particleSystem.direction2 = new BABYLON.Vector3(0, 1, 0);
                    particleSystem.emitRate = 2500;
                    particleSystem.blendMode = BABYLON.ParticleSystem.BLENDMODE_ONEONE;
                    particleSystem.gravity = new BABYLON.Vector3(0, -9.81, 0);
                    particleSystem.minAngularSpeed = 0;
                    particleSystem.maxAngularSpeed = Math.PI / 2;
                    particleSystem.minEmitPower = 0.1;
                    particleSystem.maxEmitPower = maxEmitPower;
                    particleSystem.updateSpeed = updateSpeed;

                    function my_startDirectionFunction(emitPower, worldMatrix, directionToUpdate, particle) {
                        var randX = randomNumber(this.direction1.x, this.direction2.x);
                        var randY = randomNumber(this.direction1.y, this.direction2.y);
                        var randZ = randomNumber(this.direction1.z, this.direction2.z);
                        BABYLON.Vector3.TransformNormalFromFloatsToRef(randX * emitPower, randY * emitPower, randZ * emitPower, worldMatrix, directionToUpdate);
                    }

                    function my_startPositionFunction(worldMatrix, positionToUpdate, particle) {
                        var randX = randomNumber(this.minEmitBox.x, this.maxEmitBox.x);
                        var randY = randomNumber(this.minEmitBox.y, this.maxEmitBox.y);
                        var randZ = randomNumber(this.minEmitBox.z, this.maxEmitBox.z);
                        BABYLON.Vector3.TransformCoordinatesFromFloatsToRef(randX, randY, randZ, worldMatrix, positionToUpdate);
                    }

                    function my_updateFunction(particles) {
                        for (var index = 0; index < particles.length; index++) {
                            var particle = particles[index];
                            particle.age += this._scaledUpdateSpeed;
                            if (particle.age >= particle.lifeTime) {
                                this.recycleParticle(particle);
                                index--;
                                continue;
                            } else {
                                particle.colorStep.scaleToRef(this._scaledUpdateSpeed, this._scaledColorStep);
                                particle.color.addInPlace(this._scaledColorStep);
                                if (particle.color.a < 0) particle.color.a = 0;
                                particle.direction.scaleToRef(this._scaledUpdateSpeed, this._scaledDirection);
                                particle.position.addInPlace(this._scaledDirection);
                                this.gravity.scaleToRef(this._scaledUpdateSpeed, this._scaledGravity);
                                particle.direction.addInPlace(this._scaledGravity);
                            }
                        }
                    }

                    var randomNumber = function (min, max) {
                        if (min === max) {
                            return min;
                        }
                        var random = Math.random();
                        return random * (max - min) + min;
                    };
                    particleSystem.startDirectionFunction = my_startDirectionFunction;
                    particleSystem.startPositionFunction = my_startPositionFunction;
                    particleSystem.updateFunction = my_updateFunction;
                    particleSystem.start();
                    return particleSystem;
                }

                var cloud1 = new BABYLON.Mesh("", scene);
                cloud1.position = new BABYLON.Vector3(-8, 10, 0);
                particleSystem1 = RainFX(particleSystem1, "./static/image/RainStreak.png", 1.5, 2.5, 0.04, 500, 0.3, cloud1);
                particleSystem1.layerMask = 0x80000000;

                var cloud2 = new BABYLON.Mesh("", scene);
                cloud2.position = new BABYLON.Vector3(-5, 8, 0);
                particleSystem2 = RainFX(particleSystem2, "./static/image/RainStreak.png", 1.5, 2.5, 0.04, 500, 0.3, cloud2);
                particleSystem2.layerMask = 0x80000000;

                particleSystem1.stop();
                particleSystem2.stop();

                var out = new BABYLON.ShaderMaterial("shader", scene, {vertex: "custom", fragment: "custom",}, {
                    attributes: ["position", "normal", "uv"],
                    uniforms: ["world", "worldView", "worldViewProjection", "view", "projection"]
                    , needAlphaBlending: true
                });
                out.setTexture("map", new BABYLON.Texture("static/image/Cloud.png", scene));
                out.setVector3("fogColor", new BABYLON.Vector3(1, 1, 1));
                out.setFloat("fogNear", 1.8);
                out.setFloat("fogFar", 0.8);
                out.backFaceCulling = false;

                var group1 = new BABYLON.Mesh("", scene);
                var group2 = new BABYLON.Mesh("", scene);
                var planeone = BABYLON.Mesh.CreatePlane("ground1", 6, scene);
                planeone.material = out;
                planeone.layerMask = 0x20000000;
                for (var i = 0; i < positions.length; i += 2) {
                    var plane = planeone.clone("ss");
                    plane.position = positions[i];
                    var s = Math.random() * Math.random() * 1.5 + 2;
                    plane.scaling = new BABYLON.Vector3(s, s, s);
                    plane.visibility = true;
                    plane.setParent(group1);
                }
                for (var i = 0; i < positions2.length; i += 2) {
                    var plane = planeone.clone("ss");
                    plane.position = positions2[i];
                    var s = Math.random() * Math.random() * 1.5 + 2;
                    plane.scaling = new BABYLON.Vector3(s, s, s);
                    plane.visibility = false;
                    plane.setParent(group2);
                }
                planeone.dispose();

                var materialPlane = new BABYLON.StandardMaterial("texturePlane", scene);
                materialPlane.diffuseTexture = new BABYLON.Texture("static/image/dimian.jpg", scene);
                materialPlane.backFaceCulling = false;
                materialPlane.specularPower = 0;
                materialPlane.specularColor = new BABYLON.Color3(0, 0, 0);

                var materialArrowWarm = new BABYLON.StandardMaterial("texturePlane", scene);
                materialArrowWarm.diffuseColor = new BABYLON.Color3(1, 0, 0);
                materialArrowWarm.backFaceCulling = false;//Always show the front and the back of an element
                materialArrowWarm.specularPower = 0;
                materialArrowWarm.specularColor = new BABYLON.Color3(0, 0, 0);

                var materialArrowCold = new BABYLON.StandardMaterial("texturePlane", scene);
                materialArrowCold.diffuseColor = new BABYLON.Color3(0, 0, 0.5);
                materialArrowCold.backFaceCulling = false;//Always show the front and the back of an element
                materialArrowCold.specularPower = 0;
                materialArrowCold.specularColor = new BABYLON.Color3(0, 0, 0);

                var rainarea;
                var mesh1 = [];
                BABYLON.SceneLoader.ImportMesh("", "", "data:" + this.strData1, scene, function (newMeshes, particleSystems, skeletons) {
                    for (var i = 0; i < newMeshes.length; i++) {
                        newMeshes[i].isVisible = true;
                        newMeshes[i].layerMask = 0x20000000;
                        if (!newMeshes[i].rotationQuaternion) {
                            newMeshes[i].rotationQuaternion = BABYLON.Quaternion.RotationYawPitchRoll(newMeshes[i].rotation.y, newMeshes[i].rotation.x, newMeshes[i].rotation.z);
                            newMeshes[i].rotation = BABYLON.Vector3.Zero();
                            newMeshes[i].scaling = new BABYLON.Vector3(1, 1, 1);
                            newMeshes[i].position = BABYLON.Vector3.Zero();
                            mesh1.push(newMeshes[i]);
                            console.log(newMeshes[i].name + "===========")
                            if (newMeshes[i].name == "zuobiaoC") {
                                newMeshes[i].material.backFaceCulling = false;
                            } else if (newMeshes[i].name == "jiantou") {
                                newMeshes[i].position.y = 5;
                            }
                            // if (newMeshes[i].name == "dimian") {
                            // newMeshes[i].material=materialPlane;
                            // }else if (newMeshes[i].name == "warm") {
                            // newMeshes[i].material=materialArrowWarm;
                            // }else if (newMeshes[i].name == "cold") {
                            // newMeshes[i].material=materialArrowCold;
                            // }else if (newMeshes[i].name == "rain") {
                            // rainarea=newMeshes[i];
                            // rainarea.visibility=false;
                            // }

                        }
                    }
                });
                var mesh2 = [];
                BABYLON.SceneLoader.ImportMesh("", "", "data:" + this.strData2, scene, function (newMeshes, particleSystems, skeletons) {
                    for (var i = 0; i < newMeshes.length; i++) {
                        newMeshes[i].isVisible = true;
                        newMeshes[i].layerMask = 0x20000000;
                        if (!newMeshes[i].rotationQuaternion) {
                            newMeshes[i].rotationQuaternion = BABYLON.Quaternion.RotationYawPitchRoll(newMeshes[i].rotation.y, newMeshes[i].rotation.x, newMeshes[i].rotation.z);
                            newMeshes[i].rotation = BABYLON.Vector3.Zero();
                            newMeshes[i].scaling = new BABYLON.Vector3(1, 1, 1);
                            newMeshes[i].position = BABYLON.Vector3.Zero();
                            mesh2.push(newMeshes[i]);
                            if (newMeshes[i].name == "zuobiaoD") {
                                newMeshes[i].material.backFaceCulling = false;
                            } else if (newMeshes[i].name == "jiantou") {
                                newMeshes[i].position.y = 10;
                            }
                            // if (newMeshes[i].name == "dimian") {
                            // newMeshes[i].material=materialPlane;
                            // }else if (newMeshes[i].name == "warm") {
                            // newMeshes[i].material=materialArrowWarm;
                            // }else if (newMeshes[i].name == "cold") {
                            // newMeshes[i].material=materialArrowCold;
                            // }else if (newMeshes[i].name == "rain") {
                            // rainarea=newMeshes[i];
                            // rainarea.visibility=false;
                            // }

                        }
                    }
                });

                initModel();

                function initModel() {
                    for (var i = 0; i < mesh1.length; i++) {
                        mesh1[i].visibility = true;
                        if (mesh1[i].name == "zhaozi") {
                            mesh1[i].visibility = false;
                        }
                    }
                    for (var i = 0; i < mesh2.length; i++) {
                        mesh2[i].visibility = false;
                    }
                }

                var show1 = true;
                var show2 = true;
                var index = 0;
                // Events
                var show = true;
                var onPointerDown = function (evt) {
                    if(!evt.pointerId){
                        return;
                    }
                    var pickInfo = scene.pick(scene.pointerX, scene.pointerY);
                    if (pickInfo.hit) {
                        var currentMesh = pickInfo.pickedMesh;
                        if (currentMesh.name == "zhaozi") {
                            if (index == 0) {
                                particleSystem2.stop();
                                particleSystem2.layerMask = 0x80000000;
                                if (show1 == true) {
                                    particleSystem1.start();
                                    particleSystem1.layerMask = 0x20000000;
                                } else {
                                    particleSystem1.stop();
                                    particleSystem1.layerMask = 0x80000000;
                                }
                                show1 = !show1;
                            } else if (index == 1) {
                                particleSystem1.stop();
                                particleSystem1.layerMask = 0x80000000;
                                if (show2 == true) {
                                    particleSystem2.start();
                                    particleSystem2.layerMask = 0x20000000;
                                } else {
                                    particleSystem2.stop();
                                    particleSystem2.layerMask = 0x80000000;
                                }
                                show2 = !show2;
                            }
                        }
                    }
                };
                var onPointerUp = function () {

                };
                var onPointerMove = function (evt) {

                };

                thiz.canvas.addEventListener("pointerdown", onPointerDown, false);
                thiz.canvas.addEventListener("pointerup", onPointerUp, false);
                thiz.canvas.addEventListener("pointermove", onPointerMove, false);
                scene.onDispose = function () {
                    thiz.canvas.removeEventListener("pointerdown", onPointerDown);
                    thiz.canvas.removeEventListener("pointerup", onPointerUp);
                    thiz.canvas.removeEventListener("pointermove", onPointerMove);
                };

                var plane1 = BABYLON.Mesh.CreatePlane("ground1", 20, scene);
                var materialP1=new BABYLON.ShaderMaterial("shader", scene, {vertex: "custom", fragment: "custom",}, {
                    attributes: ["position", "normal", "uv"],
                    uniforms: ["world", "worldView", "worldViewProjection", "view", "projection"]
                    , needAlphaBlending: true
                });
                materialP1.setTexture("map", new BABYLON.Texture("static/image/1.png", scene));
                materialP1.setVector3("fogColor", new BABYLON.Vector3(1, 1, 1));
                materialP1.setFloat("fogNear", 1.8);
                materialP1.setFloat("fogFar", 0.8);
                materialP1.backFaceCulling = false;
                plane1.material=materialP1;
                plane1.position = new BABYLON.Vector3(30, -3, 0);
                plane1.layerMask = 0x20000000;

                var plane2 = BABYLON.Mesh.CreatePlane("ground1", 20, scene);
                var materialP2=new BABYLON.ShaderMaterial("shader", scene, {vertex: "custom", fragment: "custom",}, {
                    attributes: ["position", "normal", "uv"],
                    uniforms: ["world", "worldView", "worldViewProjection", "view", "projection"]
                    , needAlphaBlending: true
                });
                materialP2.setTexture("map", new BABYLON.Texture("static/image/2.png", scene));
                materialP2.setVector3("fogColor", new BABYLON.Vector3(1, 1, 1));
                materialP2.setFloat("fogNear", 1.8);
                materialP2.setFloat("fogFar", 0.8);
                materialP2.backFaceCulling = false;
                plane2.material=materialP2;
                plane2.position = new BABYLON.Vector3(-30, -3, 0);
                plane2.layerMask = 0x20000000;

                var plane3 = BABYLON.Mesh.CreatePlane("ground1", 20, scene);
                var materialP3=new BABYLON.ShaderMaterial("shader", scene, {vertex: "custom", fragment: "custom",}, {
                    attributes: ["position", "normal", "uv"],
                    uniforms: ["world", "worldView", "worldViewProjection", "view", "projection"]
                    , needAlphaBlending: true
                });
                materialP3.setTexture("map", new BABYLON.Texture("static/image/3.png", scene));
                materialP3.setVector3("fogColor", new BABYLON.Vector3(1, 1, 1));
                materialP3.setFloat("fogNear", 1.8);
                materialP3.setFloat("fogFar", 0.8);
                materialP3.backFaceCulling = false;
                plane3.material=materialP3;
                plane3.position = new BABYLON.Vector3(-4, 23, 0);
                plane3.layerMask = 0x20000000;

                // var advancedTexture = BABYLON.GUI.AdvancedDynamicTexture.CreateFullscreenUI("ui1");
                // advancedTexture.layer.layerMask = 0x20000000;
                //
                // function createLabel(mesh) {
                //     var label = new BABYLON.GUI.Rectangle('label for'+mesh.name);
                //     label.height = "30px";
                //     label.alpha = 1;
                //     label.width = "200px";
                //     label.cornerRadius = 20;
                //     label.thickness = 0;
                //     label.linkOffsetY = 20;
                //     label.linkOffsetX = 0;
                //     advancedTexture.addControl(label);
                //     label.linkWithMesh(mesh);
                //
                //     var text1 = new BABYLON.GUI.TextBlock();
                //     text1.text = mesh.name;
                //     text1.color = "green";
                //     text1.fontSize = '30px';
                //     label.addControl(text1);
                // }
                //
                // var sphere1 = BABYLON.Mesh.CreateSphere("冷空气", 10, 2, scene);
                // sphere1.isVisible = false;
                // sphere1.position = new BABYLON.Vector3(30, -3, 0);
                // var sphere2 = sphere1.clone("更冷空气");
                // sphere2.position = new BABYLON.Vector3(-30, -3, 0);
                // var sphere3 = sphere1.clone("暖空气");
                // sphere3.position = new BABYLON.Vector3(0, 20, 0);
                // createLabel(sphere1);
                // createLabel(sphere2);
                // createLabel(sphere3);
              var renderTimes=0;
                scene.registerBeforeRender(function () {
                  renderTimes++;
                  if(renderTimes%4!=0)return;
                    var PO=camera.position;
                    if (index == 0) {
                        for (var i = 0; i < group1.getChildMeshes().length; i++) {
                            group1.getChildren()[i].lookAt(PO);
                        }
                    } else {
                        for (var i = 0; i < group2.getChildMeshes().length; i++) {
                            group2.getChildren()[i].lookAt(PO);
                        }
                    }
                    plane1.lookAt(PO);
                    plane2.lookAt(PO);
                    plane3.lookAt(PO);
                });
                var changeSence = function () {
                    var index = $(this).index();
                    if (index == 0 && thiz.cameraF) {
                        scene.clearColor = new BABYLON.Color4(0, 0, 0, 0);
                    } else if (index == 1) {
                        scene.clearColor = new BABYLON.Color4(0.95, 0.95, 0.95, 1);
                    } else if (index == 2) {
                        scene.clearColor = new BABYLON.Color4(0.1, 0.1, 0.1, 1);
                    }
                }
                var swithBtn = function () {
                    $('#switchBtn>div').css('background', '#a9a9a9');
                    $(this).css('background', '#6a6a6a');
                    index = $(this).index();
                    if (index == 0) {
                        particleSystem1.stop();
                        particleSystem1.layerMask = 0x80000000;
                        particleSystem2.stop();
                        particleSystem2.layerMask = 0x80000000;
                        show1 = true;
                        show2 = true;
                        for (var i = 0; i < mesh1.length; i++) {
                            mesh1[i].visibility = true;
                            if (mesh1[i].name == "zhaozi") {
                                mesh1[i].visibility = false;
                            }
                        }
                        for (var i = 0; i < group1.getChildMeshes().length; i++) {
                            group1.getChildren()[i].visibility = true;
                        }
                        for (var i = 0; i < group2.getChildMeshes().length; i++) {
                            group2.getChildren()[i].visibility = false;
                        }
                        for (var i = 0; i < mesh2.length; i++) {
                            mesh2[i].visibility = false;
                        }
                    } else if (index == 1) {
                        particleSystem2.stop();
                        particleSystem1.layerMask = 0x80000000;
                        particleSystem1.stop();
                        particleSystem2.layerMask = 0x80000000;
                        show1 = true;
                        show2 = true;
                        for (var i = 0; i < mesh2.length; i++) {
                            mesh2[i].visibility = true;
                            if (mesh2[i].name == "zhaozi") {
                                mesh2[i].visibility = false;
                            }
                        }
                        for (var i = 0; i < mesh1.length; i++) {
                            mesh1[i].visibility = false;
                        }
                        for (var i = 0; i < group1.getChildMeshes().length; i++) {
                            group1.getChildren()[i].visibility = false;
                        }
                        for (var i = 0; i < group2.getChildMeshes().length; i++) {
                            group2.getChildren()[i].visibility = true;
                        }
                    }
                }
                var isMob = /iPad|Android/g.test(navigator.userAgent);
                if (isMob) {
                    $('#changeSence>div').on('touchstart', changeSence);
                    $('#switchBtn>div').on('touchstart', swithBtn);
                } else {
                    $('#changeSence>div').on('click', changeSence);
                    $('#switchBtn>div').on('click', swithBtn);
                }
                return scene;
            }
        },
        mounted() {
            this.init();
            $('#showhide').hide();
        }
    }
</script>

<style>
    html, body, h1, h2, h3, h4, h5, h6, hr, p, iframe, dl, dt, dd, ul, ol, li, pre, form, button, input, textarea, th, td, fieldset {
        margin: 0;
        padding: 0;
        border: none;
        -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
    }

    body, html {
        width: 100%;
        height: 100%;
        padding: 0;
        margin: 0;
        border: none;
        overflow: hidden;
        position: fixed;
        font-family: "Segoe WP", "Segoe UI", Verdana, Arial;
        touch-action: none;
        background-color: #fff;
        -ms-touch-action: none
    }

    body {
        height: 100%;
        -webkit-touch-callout: none;
        -webkit-user-select: none;
        -khtml-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
    }

    canvas {
        position: absolute;
        top: 0;
        left: 0;
        z-index: 9;
    }

    #video {
        position: absolute;
        left: 0;
        right: 0;
        margin: auto;
        z-index: 1;
        background: #fff;
    }

    #video.videoW {
        height: auto;
        width: 100%;
    }

    #video.videoH {
        width: auto;
        height: 100%;
    }

    .wxtip {
        text-align: center;
        position: fixed;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        z-index: 998;
        display: none;
        background-size: 70% auto;
        background-position: top right;
        background-repeat: no-repeat;
        background-color: rgba(0, 0, 0, 0.6);
    }

    /****** 基本样式开始 ******/

    #fps {
        position: absolute;
        right: 20px;
        top: 5em;
        font-size: 20px;
        color: #6cf;
        z-index: 997;
    }

    .renderCanvas-container {
        position: absolute;
        bottom: 0;
        left: 0;
        width: 100%;
        height: 100%;
        padding: 0;
        margin: 0;
    }

    #notSupported {
        color: #232F32;
        width: 100%;
        height: 100%;
        position: absolute;
        top: 0;
        background-color: #ffffff;
        text-align: center;
        padding-top: 0;
        font-size: 30px;
        z-index: 999;
        cursor: default
    }

    #renderCanvas {
        width: 100%;
        height: 100%;
        outline: 0
    }

    .hidden {
        display: none
    }

    #changeSence {
        width: 50px;
        position: absolute;
        z-index: 19;
        left: 15px;
        bottom: 0px;
        top: 0px;
        margin: auto;
    }

    #changeSence > div {
        margin: 12px 0;
        width: 50px;
        height: 50px;
        cursor: pointer;
        border-radius: 50%;
        box-shadow: 0px 0px 3px rgba(0, 0, 0, 0.5);
    }

    #changeSence > div > img {
        width: 50px;
    }

    #switchBtn {
        width: 182px;
        position: absolute;
        z-index: 19;
        right: 15px;
        bottom: 15px;
    }

    #switchBtn > div {
        color: #fff;
        width: 180px;
        height: 34px;
        font-weight: 500;
        line-height: 30px;
        text-align: center;
        background: #a9a9a9;
        border: 2px solid #c5c5c5;
        border-radius: 6px;
        cursor: pointer;
        margin: 12px 0;
        box-shadow: 0px 0px 1px rgba(0, 0, 0, 0.8);
    }

    @media (max-width: 720px) {
        #title {
            font-size: 22px;
        }

        #check div,
        #step div {
            font-size: 13px;
        }

        #step > div > div {
            padding-left: 38px;
        }

        #step div > span {
            left: 8px;
        }
    }

    @media (max-width: 655px) {
        #title {
            font-size: 20px;
        }

        #check div,
        #step div {
            font-size: 12px;
        }

        #step > div > div {
            padding-left: 32px;
        }

        #step div > span {
            left: 5px;
        }

    }
</style>
